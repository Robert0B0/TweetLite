{"version":3,"sources":["lookup/components.js","tweets/components.js","logo.svg","App.js","index.js"],"names":["loadTweets","callback","method","endpoint","data","jsonData","JSON","stringify","xhr","XMLHttpRequest","url","responseType","open","onload","response","status","onerror","e","console","log","message","send","lookup","TweetsComponent","props","textAreaRef","React","createRef","useState","newTweets","setNewTweets","className","onSubmit","event","preventDefault","newVal","current","value","tempNewTweets","unshift","content","likes","id","ref","required","type","TweetsList","tweetsInit","setTweetsInit","tweets","setTweets","tweetsDidSet","setTweetsDidSet","useEffect","final","concat","length","alert","map","item","index","Tweet","tweet","ActionBtn","action","setLikes","userLike","setUserLike","actionDisplay","display","onClick","App","src","logo","alt","href","target","rel","appEl","document","getElementById","ReactDOM","render","StrictMode","tweetsEl"],"mappings":"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","file":"static/js/main.0ead1a3f.chunk.js","sourcesContent":["function lookup(method, endpoint, callback, data) {\r\n\tlet jsonData;\r\n\tif (data) {\r\n\t\tjsonData = JSON.stringify(data);\r\n\t}\r\n\r\n\tconst xhr = new XMLHttpRequest();\r\n\tconst url = `http://localhost:8000/api${endpoint}`;\r\n\txhr.responseType = \"json\";\r\n\txhr.open(method, url);\r\n\txhr.onload = function () {\r\n\t\tcallback(xhr.response, xhr.status);\r\n\t};\r\n\txhr.onerror = function (e) {\r\n\t\tconsole.log(e);\r\n\t\tcallback({ message: \"the request was an error\" }, 400);\r\n\t};\r\n\txhr.send(jsonData);\r\n}\r\n\r\nexport function loadTweets(callback) {\r\n\tlookup(\"GET\", \"/tweets/\", callback);\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { loadTweets } from \"../lookup\";\r\n\r\nexport function TweetsComponent(props) {\r\n\tconst textAreaRef = React.createRef();\r\n\tconst [newTweets, setNewTweets] = useState([]);\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst newVal = textAreaRef.current.value;\r\n\t\tconsole.log(newVal);\r\n\t\tlet tempNewTweets = [...newTweets];\r\n\t\ttempNewTweets.unshift({\r\n\t\t\tcontent: newVal,\r\n\t\t\tlikes: 0,\r\n\t\t\tid: 1234,\r\n\t\t});\r\n\t\tsetNewTweets(tempNewTweets);\r\n\t\ttextAreaRef.current.value = \"\";\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={props.className}>\r\n\t\t\t<div className=\"col-12 mb-3\">\r\n\t\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t\t<textarea ref={textAreaRef} required={true} className=\"form-control\"></textarea>\r\n\t\t\t\t\t<button type=\"submit\" className=\"btn btn-success my-3\">\r\n\t\t\t\t\t\tTweet\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t\t<TweetsList newTweets={newTweets} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function TweetsList(props) {\r\n\tconst [tweetsInit, setTweetsInit] = useState([]);\r\n\tconst [tweets, setTweets] = useState([]);\r\n\tconst [tweetsDidSet, setTweetsDidSet] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst final = [...props.newTweets].concat(tweetsInit);\r\n\t\tif (final.length !== tweets.length) {\r\n\t\t\tsetTweets(final);\r\n\t\t}\r\n\t}, [props.newTweets, tweets, tweetsInit]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (tweetsDidSet === false) {\r\n\t\t\tconst myCallBack = (response, status) => {\r\n\t\t\t\tif (status === 200) {\r\n\t\t\t\t\tsetTweetsInit(response);\r\n\t\t\t\t\tsetTweetsDidSet(true);\r\n\t\t\t\t\tconsole.log(\"reload\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(\"There was an error\");\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tloadTweets(myCallBack);\r\n\t\t}\r\n\t}, [tweetsInit, tweetsDidSet, setTweetsDidSet]);\r\n\r\n\treturn tweets.map((item, index) => {\r\n\t\treturn (\r\n\t\t\t<Tweet\r\n\t\t\t\ttweet={item}\r\n\t\t\t\tkey={`${index}-item.id`}\r\n\t\t\t\tclassName=\"my-5 py-5 border bg-white text-dark\"\r\n\t\t\t/>\r\n\t\t);\r\n\t});\r\n}\r\n\r\nexport function ActionBtn(props) {\r\n\tconst { tweet, action } = props;\r\n\tconst [likes, setLikes] = useState(tweet.likes ? tweet.likes : 0);\r\n\tconst [userLike, setUserLike] = useState(tweet.userLike === true ? true : false);\r\n\tconst className = props.className ? props.className : \"btn btn-success btn-sm\";\r\n\tconst actionDisplay = action.display ? action.display : \"Action\";\r\n\r\n\tconst handleClick = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tif (action.type === \"like\") {\r\n\t\t\tif (userLike === true) {\r\n\t\t\t\tsetLikes(likes - 1);\r\n\t\t\t\tsetUserLike(false);\r\n\t\t\t} else {\r\n\t\t\t\tsetLikes(likes + 1);\r\n\t\t\t\tsetUserLike(true);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tconst display = action.type === \"like\" ? `${likes} ${actionDisplay}` : actionDisplay;\r\n\r\n\treturn (\r\n\t\t<button className={className} onClick={handleClick}>\r\n\t\t\t{display}\r\n\t\t</button>\r\n\t);\r\n}\r\n\r\nexport function Tweet(props) {\r\n\tconst { tweet } = props;\r\n\tconst className = props.className ? props.className : \"col-10 mx-auto col-md-6\";\r\n\r\n\treturn (\r\n\t\t<div className={className}>\r\n\t\t\t<p>\r\n\t\t\t\t{tweet.id} - {tweet.content}\r\n\t\t\t</p>\r\n\t\t\t<div className=\"btn btn-group\">\r\n\t\t\t\t<ActionBtn tweet={tweet} action={{ type: \"like\", display: \"Like\" }} />\r\n\t\t\t\t<ActionBtn tweet={tweet} action={{ type: \"unlike\", display: \"UnLike\" }} />\r\n\t\t\t\t{/* <ActionBtn tweet={tweet} action={{ type: \"retweet\", display: \"Retweet\" }} /> */}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from \"react\";\nimport { TweetsComponent } from \"./tweets\";\n\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\n\nfunction App() {\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<header className=\"App-header\">\n\t\t\t\t<img src={logo} className=\"App-logo\" alt=\"logo\" />\n\t\t\t\t<p>\n\t\t\t\t\tEdit <code>src/App.js</code> and save to reload.\n\t\t\t\t</p>\n\t\t\t\t<div>\n\t\t\t\t\t<TweetsComponent />\n\t\t\t\t</div>\n\t\t\t\t<a\n\t\t\t\t\tclassName=\"App-link\"\n\t\t\t\t\thref=\"https://reactjs.org\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t>\n\t\t\t\t\tLearn React\n\t\t\t\t</a>\n\t\t\t</header>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { TweetsComponent } from \"./tweets\";\n\nconst appEl = document.getElementById(\"root\");\nif (appEl) {\n\tReactDOM.render(\n\t\t<React.StrictMode>\n\t\t\t<App />\n\t\t</React.StrictMode>,\n\t\tappEl\n\t);\n}\n\nconst tweetsEl = document.getElementById(\"tweet_lite\");\nif (tweetsEl) {\n\tReactDOM.render(<TweetsComponent />, tweetsEl);\n}\n"],"sourceRoot":""}