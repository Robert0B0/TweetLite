{"code":"(this[\"webpackJsonptweet_lite-web\"]=this[\"webpackJsonptweet_lite-web\"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){\"use strict\";n.r(t);var c=n(1),a=n.n(c),s=n(6),r=n.n(s);n(14);function o(e,t,n,c){var a;c&&(a=JSON.stringify(c));var s=new XMLHttpRequest,r=\"http://localhost:8000/api\".concat(t);s.responseType=\"json\";var o=function(e){var t=null;if(document.cookie&&\"\"!==document.cookie)for(var n=document.cookie.split(\";\"),c=0;c<n.length;c++){var a=n[c].trim();if(a.substring(0,e.length+1)===e+\"=\"){t=decodeURIComponent(a.substring(e.length+1));break}}return t}(\"csrftoken\");s.open(e,r),s.setRequestHeader(\"Content-Type\",\"application/json\"),o&&(s.setRequestHeader(\"HTTP_X_REQUESTED_WITH\",\"XMLHttpRequest\"),s.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\"),s.setRequestHeader(\"x-CSRFTOKEN\",o)),s.onload=function(){n(s.response,s.status)},s.onerror=function(e){console.log(e),n({message:\"the request was an error\"},400)},s.send(a)}var i=n(0);function l(e){var t=e.tweet,n=e.action,c=e.didPerformAction,a=t.likes?t.likes:0,s=e.className?e.className:\"btn btn-success btn-sm\",r=n.display?n.display:\"Action\",l=function(e,t){200!==t&&201!==t||!c||c(e,t)},u=\"like\"===n.type?\"\".concat(a,\" \").concat(r):r;return Object(i.jsx)(\"button\",{className:s,onClick:function(e){e.preventDefault(),function(e,t,n){o(\"POST\",\"/tweets/action/\",n,{id:e,action:t})}(t.id,n.type,l)},children:u})}var u=n(8),d=n(2);function j(e){var t=e.tweet;return t.parent?Object(i.jsx)(\"div\",{className:\"row\",children:Object(i.jsxs)(\"div\",{className:\"col-11 mx-auto p-3 border rounded\",children:[Object(i.jsx)(\"p\",{className:\"mb-0 text-muted sm\",children:\"Retweet\"}),Object(i.jsx)(b,{hideActions:!0,className:\" \",tweet:t.parent})]})}):null}function b(e){var t=e.tweet,n=e.didRetweet,s=e.hideActions,r=e.className?e.className:\"col-10 mx-auto col-md-6\",o=Object(c.useState)(e.tweet?e.tweet:null),b=Object(d.a)(o,2),m=b[0],f=b[1],O=window.location.pathname.match(Object(u.a)(/([0-9]+)/,{tweetid:1})),p=O?O.groups.tweetid:-1,w=\"\".concat(t.id)===\"\".concat(p),h=function(e,t){200===t?f(e):201===t&&n&&n(e)};return Object(i.jsxs)(\"div\",{className:r,children:[Object(i.jsx)(\"div\",{children:Object(i.jsxs)(\"p\",{children:[t.id,\" - \",t.content]})}),Object(i.jsx)(j,{tweet:t}),Object(i.jsxs)(\"div\",{className:\"btn btn-group\",children:[m&&!0!==s&&Object(i.jsxs)(a.a.Fragment,{children:[Object(i.jsx)(l,{tweet:m,didPerformAction:h,action:{type:\"like\",display:\"Like\"}}),Object(i.jsx)(l,{tweet:m,didPerformAction:h,action:{type:\"unlike\",display:\"UnLike\"}}),Object(i.jsx)(l,{tweet:m,didPerformAction:h,action:{type:\"retweet\",display:\"Retweet\"}})]}),!0===w?null:Object(i.jsx)(\"button\",{className:\"btn btn-outline-success btn-sm\",onClick:function(e){e.preventDefault(),window.location.href=\"/\".concat(t.id)},children:\"View\"})]})]})}var m=n(3);function f(e){var t=Object(c.useState)([]),n=Object(d.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)([]),l=Object(d.a)(r,2),u=l[0],j=l[1],f=Object(c.useState)(!1),O=Object(d.a)(f,2),p=O[0],w=O[1];Object(c.useEffect)((function(){var t=Object(m.a)(e.newTweets).concat(a);t.length!==u.length&&j(t)}),[e.newTweets,u,a]),Object(c.useEffect)((function(){if(!1===p){!function(e,t){var n=\"/tweets/\";e&&(n=\"/tweets/?username=\".concat(e)),o(\"GET\",n,t)}(e.username,(function(e,t){200===t?(s(e),w(!0)):alert(\"There was an error\")}))}}),[a,p,w,e.username]);var h=function(e){var t=Object(m.a)(a);t.unshift(e),s(t);var n=Object(m.a)(u);n.unshift(u),j(n)};return u.map((function(e,t){return Object(i.jsx)(b,{tweet:e,didRetweet:h,className:\"my-5 py-5 border bg-white text-dark\"},\"\".concat(t,\"-item.id\"))}))}var O=n(9);function p(e){var t=a.a.createRef(),n=e.didTweet,c=function(e,t){201===t?n(e):(console.log(e),alert(\"an error occured, please try again\"))};return Object(i.jsx)(\"div\",{className:e.className,children:Object(i.jsxs)(\"form\",{onSubmit:function(e){e.preventDefault();var n=t.current.value;o(\"POST\",\"/tweets/create/\",c,{content:n}),t.current.value=\"\"},children:[Object(i.jsx)(\"textarea\",{ref:t,required:!0,className:\"form-control\"}),Object(i.jsx)(\"button\",{type:\"submit\",className:\"btn btn-success my-3\",children:\"Tweet\"})]})})}function w(e){var t=Object(c.useState)([]),n=Object(d.a)(t,2),a=n[0],s=n[1],r=\"false\"!==e.canTweet;return Object(i.jsxs)(\"div\",{className:e.className,children:[!0===r&&Object(i.jsx)(p,{didTweet:function(e){var t=Object(m.a)(a);t.unshift(e),s(t)},className:\"col-12 mb-3\"}),Object(i.jsx)(f,Object(O.a)({newTweets:a},e))]})}function h(e){var t=e.tweetId,n=Object(c.useState)(!1),a=Object(d.a)(n,2),s=a[0],r=a[1],l=Object(c.useState)(null),u=Object(d.a)(l,2),j=u[0],m=u[1],f=function(e,t){200===t?m(e):alert(\"There was an error finding your tweet\")};return Object(c.useEffect)((function(){!1===s&&(!function(e,t){o(\"GET\",\"/tweets/\".concat(e),t)}(t,f),r(!0))}),[t,s,r]),null===j?null:Object(i.jsx)(b,{tweet:j,className:e.className})}var v=n.p+\"static/media/logo.6ce24c58.svg\";n(16);var x=function(){return Object(i.jsx)(\"div\",{className:\"App\",children:Object(i.jsxs)(\"header\",{className:\"App-header\",children:[Object(i.jsx)(\"img\",{src:v,className:\"App-logo\",alt:\"logo\"}),Object(i.jsxs)(\"p\",{children:[\"Edit \",Object(i.jsx)(\"code\",{children:\"src/App.js\"}),\" and save to reload.\"]}),Object(i.jsx)(\"div\",{children:Object(i.jsx)(w,{})}),Object(i.jsx)(\"a\",{className:\"App-link\",href:\"https://reactjs.org\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"Learn React\"})]})})},N=document.getElementById(\"root\");N&&r.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(x,{})}),N);var g=a.a.createElement,y=document.getElementById(\"tweet_lite\");y&&(console.log(y.dataset.username),r.a.render(g(w,y.dataset),y)),document.querySelectorAll(\".tweet_lite-detail\").forEach((function(e){r.a.render(g(h,e.dataset),e)}))}},[[17,1,2]]]);","name":"static/js/main.ddf59431.chunk.js","map":{"version":3,"sources":["static/js/main.ddf59431.chunk.js"],"names":["this","push","14","module","exports","__webpack_require__","16","17","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","backendLookup","method","endpoint","callback","data","jsonData","JSON","stringify","xhr","XMLHttpRequest","url","concat","responseType","csrftoken","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","getCookie","open","setRequestHeader","onload","response","status","onerror","e","console","log","message","send","jsx_runtime","ActionBtn","props","tweet","action","didPerformAction","likes","className","actionDisplay","display","handleBackendEvent","type","Object","onClick","event","preventDefault","tweetId","id","apiTweetAction","children","wrapRegExp","slicedToArray","ParentTweet","parent","Tweet","hideActions","didRetweet","_useState","_useState2","actionTweet","setActionTweet","match","window","location","pathname","tweetid","urlTweetId","groups","isDetail","handlePerformAction","newActionTweet","content","a","Fragment","href","toConsumableArray","TweetsList","tweetsInit","setTweetsInit","_useState3","_useState4","tweets","setTweets","_useState5","_useState6","tweetsDidSet","setTweetsDidSet","final","newTweets","username","apiTweetList","alert","handleDidRetweet","newTweet","updatedTweetsInit","unshift","updatedFinalTweets","map","item","index","objectSpread2","TweetCreate","textAreaRef","createRef","didTweet","handleBackendUpdate","onSubmit","newVal","current","value","ref","required","TweetsComponent","setNewTweets","canTweet","tempNewTweets","TweetDetailComponent","didLookup","setDidLookup","setTweet","handleBackendLookup","apiTweetDetail","logo","p","src_App","src","alt","target","rel","appEl","getElementById","render","StrictMode","createElement","tweetsEl","dataset","querySelectorAll","forEach","container"],"mappings":"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"},"input":"(this[\"webpackJsonptweet_lite-web\"] = this[\"webpackJsonptweet_lite-web\"] || []).push([[0],{\n\n/***/ 14:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 16:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 17:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(6);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(14);\n\n// CONCATENATED MODULE: ./src/lookup/components.js\nfunction getCookie(name){var cookieValue=null;if(document.cookie&&document.cookie!==\"\"){var cookies=document.cookie.split(\";\");for(var i=0;i<cookies.length;i++){var cookie=cookies[i].trim();// Does this cookie string begin with the name we want?\nif(cookie.substring(0,name.length+1)===name+\"=\"){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}return cookieValue;}function backendLookup(method,endpoint,callback,data){var jsonData;if(data){jsonData=JSON.stringify(data);}var xhr=new XMLHttpRequest();var url=\"http://localhost:8000/api\".concat(endpoint);xhr.responseType=\"json\";var csrftoken=getCookie(\"csrftoken\");xhr.open(method,url);xhr.setRequestHeader(\"Content-Type\",\"application/json\");if(csrftoken){xhr.setRequestHeader(\"HTTP_X_REQUESTED_WITH\",\"XMLHttpRequest\");xhr.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\");xhr.setRequestHeader(\"x-CSRFTOKEN\",csrftoken);}xhr.onload=function(){callback(xhr.response,xhr.status);};xhr.onerror=function(e){console.log(e);callback({message:\"the request was an error\"},400);};xhr.send(jsonData);}\n// CONCATENATED MODULE: ./src/lookup/index.js\n\n// CONCATENATED MODULE: ./src/tweets/lookup.js\nfunction apiTweetList(username,callback){var endpoint=\"/tweets/\";if(username){endpoint=\"/tweets/?username=\".concat(username);}backendLookup(\"GET\",endpoint,callback);}function apiTweetDetail(tweetId,callback){backendLookup(\"GET\",\"/tweets/\".concat(tweetId),callback);}function apiTweetCreate(newTweet,callback){backendLookup(\"POST\",\"/tweets/create/\",callback,{content:newTweet});}function apiTweetAction(tweetId,action,callback){var data={id:tweetId,action:action};backendLookup(\"POST\",\"/tweets/action/\",callback,data);}\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/tweets/buttons.js\nfunction ActionBtn(props){var tweet=props.tweet,action=props.action,didPerformAction=props.didPerformAction;var likes=tweet.likes?tweet.likes:0;var className=props.className?props.className:\"btn btn-success btn-sm\";var actionDisplay=action.display?action.display:\"Action\";var handleBackendEvent=function handleBackendEvent(response,status){if((status===200||status===201)&&didPerformAction){didPerformAction(response,status);}};var handleClick=function handleClick(event){event.preventDefault();apiTweetAction(tweet.id,action.type,handleBackendEvent);};var display=action.type===\"like\"?\"\".concat(likes,\" \").concat(actionDisplay):actionDisplay;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:className,onClick:handleClick,children:display});}\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapRegExp.js + 10 modules\nvar wrapRegExp = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/tweets/detail.js\nfunction ParentTweet(props){var tweet=props.tweet;return tweet.parent?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-11 mx-auto p-3 border rounded\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"mb-0 text-muted sm\",children:\"Retweet\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tweet,{hideActions:true,className:\" \",tweet:tweet.parent})]})}):null;}function Tweet(props){var tweet=props.tweet,didRetweet=props.didRetweet,hideActions=props.hideActions;var className=props.className?props.className:\"col-10 mx-auto col-md-6\";var _useState=Object(react[\"useState\"])(props.tweet?props.tweet:null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),actionTweet=_useState2[0],setActionTweet=_useState2[1];var path=window.location.pathname;var match=path.match(/*#__PURE__*/Object(wrapRegExp[\"a\" /* default */])(/([0-9]+)/,{tweetid:1}));var urlTweetId=match?match.groups.tweetid:-1;var isDetail=\"\".concat(tweet.id)===\"\".concat(urlTweetId);var handlePerformAction=function handlePerformAction(newActionTweet,status){if(status===200){setActionTweet(newActionTweet);}else if(status===201){if(didRetweet){didRetweet(newActionTweet);}}};var handleLink=function handleLink(event){event.preventDefault();window.location.href=\"/\".concat(tweet.id);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:className,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[tweet.id,\" - \",tweet.content]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ParentTweet,{tweet:tweet}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"btn btn-group\",children:[actionTweet&&hideActions!==true&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_default.a.Fragment,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"like\",display:\"Like\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"unlike\",display:\"UnLike\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"retweet\",display:\"Retweet\"}})]}),isDetail===true?null:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-outline-success btn-sm\",onClick:handleLink,children:\"View\"})]})]});}\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/tweets/list.js\nfunction TweetsList(props){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),tweetsInit=_useState2[0],setTweetsInit=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),tweets=_useState4[0],setTweets=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),tweetsDidSet=_useState6[0],setTweetsDidSet=_useState6[1];Object(react[\"useEffect\"])(function(){var final=Object(toConsumableArray[\"a\" /* default */])(props.newTweets).concat(tweetsInit);if(final.length!==tweets.length){setTweets(final);}},[props.newTweets,tweets,tweetsInit]);Object(react[\"useEffect\"])(function(){if(tweetsDidSet===false){var handleTweetListLookup=function handleTweetListLookup(response,status){if(status===200){setTweetsInit(response);setTweetsDidSet(true);}else{alert(\"There was an error\");}};apiTweetList(props.username,handleTweetListLookup);}},[tweetsInit,tweetsDidSet,setTweetsDidSet,props.username]);var handleDidRetweet=function handleDidRetweet(newTweet){var updatedTweetsInit=Object(toConsumableArray[\"a\" /* default */])(tweetsInit);updatedTweetsInit.unshift(newTweet);setTweetsInit(updatedTweetsInit);var updatedFinalTweets=Object(toConsumableArray[\"a\" /* default */])(tweets);updatedFinalTweets.unshift(tweets);setTweets(updatedFinalTweets);};return tweets.map(function(item,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tweet,{tweet:item,didRetweet:handleDidRetweet,className:\"my-5 py-5 border bg-white text-dark\"},\"\".concat(index,\"-item.id\"));});}\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(9);\n\n// CONCATENATED MODULE: ./src/tweets/create.js\nfunction TweetCreate(props){var textAreaRef=/*#__PURE__*/react_default.a.createRef();var didTweet=props.didTweet;var handleBackendUpdate=function handleBackendUpdate(response,status){if(status===201){didTweet(response);}else{console.log(response);alert(\"an error occured, please try again\");}};var handleSubmit=function handleSubmit(event){event.preventDefault();var newVal=textAreaRef.current.value;// backend api request handler\napiTweetCreate(newVal,handleBackendUpdate);textAreaRef.current.value=\"\";};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:props.className,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{ref:textAreaRef,required:true,className:\"form-control\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"btn btn-success my-3\",children:\"Tweet\"})]})});}\n// CONCATENATED MODULE: ./src/tweets/components.js\nfunction TweetsComponent(props){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),newTweets=_useState2[0],setNewTweets=_useState2[1];var canTweet=props.canTweet===\"false\"?false:true;var handleNewTweet=function handleNewTweet(newTweet){var tempNewTweets=Object(toConsumableArray[\"a\" /* default */])(newTweets);tempNewTweets.unshift(newTweet);setNewTweets(tempNewTweets);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:props.className,children:[canTweet===true&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TweetCreate,{didTweet:handleNewTweet,className:\"col-12 mb-3\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TweetsList,Object(objectSpread2[\"a\" /* default */])({newTweets:newTweets},props))]});}function TweetDetailComponent(props){var tweetId=props.tweetId;var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),didLookup=_useState4[0],setDidLookup=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),tweet=_useState6[0],setTweet=_useState6[1];var handleBackendLookup=function handleBackendLookup(response,status){if(status===200){setTweet(response);}else{alert(\"There was an error finding your tweet\");}};Object(react[\"useEffect\"])(function(){if(didLookup===false){apiTweetDetail(tweetId,handleBackendLookup);setDidLookup(true);}},[tweetId,didLookup,setDidLookup]);return tweet===null?null:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tweet,{tweet:tweet,className:props.className});}\n// CONCATENATED MODULE: ./src/tweets/index.js\n\n// CONCATENATED MODULE: ./src/logo.svg\n/* harmony default export */ var logo = (__webpack_require__.p + \"static/media/logo.6ce24c58.svg\");\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(16);\n\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{className:\"App-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:logo,className:\"App-logo\",alt:\"logo\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Edit \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"code\",{children:\"src/App.js\"}),\" and save to reload.\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TweetsComponent,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{className:\"App-link\",href:\"https://reactjs.org\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"Learn React\"})]})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nvar appEl=document.getElementById(\"root\");if(appEl){react_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),appEl);}var e=react_default.a.createElement;var tweetsEl=document.getElementById(\"tweet_lite\");if(tweetsEl){console.log(tweetsEl.dataset.username);react_dom_default.a.render(e(TweetsComponent,tweetsEl.dataset),tweetsEl);}var tweetDetailElements=document.querySelectorAll(\".tweet_lite-detail\");tweetDetailElements.forEach(function(container){react_dom_default.a.render(e(TweetDetailComponent,container.dataset),container);});\n\n/***/ })\n\n},[[17,1,2]]]);","inputSourceMap":{"version":3,"sources":["F:\\Study\\010 Programming learning\\@React Js\\TweetLite\\tweet_lite-web\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!F:\\Study\\010 Programming learning\\@React Js\\TweetLite\\tweet_lite-web\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!F:\\Study\\010 Programming learning\\@React Js\\TweetLite\\tweet_lite-web\\node_modules\\postcss-loader\\src\\index.js??postcss!F:\\Study\\010 Programming learning\\@React Js\\TweetLite\\tweet_lite-web\\src\\index.css","F:\\Study\\010 Programming learning\\@React Js\\TweetLite\\tweet_lite-web\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!F:\\Study\\010 Programming learning\\@React Js\\TweetLite\\tweet_lite-web\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!F:\\Study\\010 Programming learning\\@React Js\\TweetLite\\tweet_lite-web\\node_modules\\postcss-loader\\src\\index.js??postcss!F:\\Study\\010 Programming learning\\@React Js\\TweetLite\\tweet_lite-web\\src\\App.css","F:/Study/010 Programming learning/@React Js/TweetLite/tweet_lite-web/src/lookup/components.js","F:/Study/010 Programming learning/@React Js/TweetLite/tweet_lite-web/src/tweets/lookup.js","F:/Study/010 Programming learning/@React Js/TweetLite/tweet_lite-web/src/tweets/buttons.js","F:/Study/010 Programming learning/@React Js/TweetLite/tweet_lite-web/src/tweets/detail.js","F:/Study/010 Programming learning/@React Js/TweetLite/tweet_lite-web/src/tweets/list.js","F:/Study/010 Programming learning/@React Js/TweetLite/tweet_lite-web/src/tweets/create.js","F:/Study/010 Programming learning/@React Js/TweetLite/tweet_lite-web/src/tweets/components.js","F:\\Study\\010 Programming learning\\@React Js\\TweetLite\\tweet_lite-web\\node_modules\\file-loader\\dist\\cjs.js??ref--5-oneOf-8!F:\\Study\\010 Programming learning\\@React Js\\TweetLite\\tweet_lite-web\\src\\logo.svg","F:/Study/010 Programming learning/@React Js/TweetLite/tweet_lite-web/src/App.js","F:/Study/010 Programming learning/@React Js/TweetLite/tweet_lite-web/src/index.js"],"names":["getCookie","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","backendLookup","method","endpoint","callback","data","jsonData","JSON","stringify","xhr","XMLHttpRequest","url","responseType","csrftoken","open","setRequestHeader","onload","response","status","onerror","e","console","log","message","send","apiTweetList","username","apiTweetDetail","tweetId","apiTweetCreate","newTweet","content","apiTweetAction","action","id","ActionBtn","props","tweet","didPerformAction","likes","className","actionDisplay","display","handleBackendEvent","handleClick","event","preventDefault","type","ParentTweet","parent","Tweet","didRetweet","hideActions","useState","actionTweet","setActionTweet","path","window","location","pathname","match","urlTweetId","groups","tweetid","isDetail","handlePerformAction","newActionTweet","handleLink","href","TweetsList","tweetsInit","setTweetsInit","tweets","setTweets","tweetsDidSet","setTweetsDidSet","useEffect","final","newTweets","concat","handleTweetListLookup","alert","handleDidRetweet","updatedTweetsInit","unshift","updatedFinalTweets","map","item","index","TweetCreate","textAreaRef","React","createRef","didTweet","handleBackendUpdate","handleSubmit","newVal","current","value","TweetsComponent","setNewTweets","canTweet","handleNewTweet","tempNewTweets","TweetDetailComponent","didLookup","setDidLookup","setTweet","handleBackendLookup","App","logo","appEl","getElementById","ReactDOM","render","createElement","tweetsEl","dataset","tweetDetailElements","querySelectorAll","forEach","container"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","function getCookie(name) {\r\n\tvar cookieValue = null;\r\n\tif (document.cookie && document.cookie !== \"\") {\r\n\t\tvar cookies = document.cookie.split(\";\");\r\n\t\tfor (var i = 0; i < cookies.length; i++) {\r\n\t\t\tvar cookie = cookies[i].trim();\r\n\t\t\t// Does this cookie string begin with the name we want?\r\n\t\t\tif (cookie.substring(0, name.length + 1) === name + \"=\") {\r\n\t\t\t\tcookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn cookieValue;\r\n}\r\n\r\nexport function backendLookup(method, endpoint, callback, data) {\r\n\tlet jsonData;\r\n\tif (data) {\r\n\t\tjsonData = JSON.stringify(data);\r\n\t}\r\n\r\n\tconst xhr = new XMLHttpRequest();\r\n\tconst url = `http://localhost:8000/api${endpoint}`;\r\n\r\n\txhr.responseType = \"json\";\r\n\tconst csrftoken = getCookie(\"csrftoken\");\r\n\txhr.open(method, url);\r\n\txhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n\r\n\tif (csrftoken) {\r\n\t\txhr.setRequestHeader(\"HTTP_X_REQUESTED_WITH\", \"XMLHttpRequest\");\r\n\t\txhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\r\n\t\txhr.setRequestHeader(\"x-CSRFTOKEN\", csrftoken);\r\n\t}\r\n\r\n\txhr.onload = function () {\r\n\t\tcallback(xhr.response, xhr.status);\r\n\t};\r\n\txhr.onerror = function (e) {\r\n\t\tconsole.log(e);\r\n\t\tcallback({ message: \"the request was an error\" }, 400);\r\n\t};\r\n\txhr.send(jsonData);\r\n}\r\n","import { backendLookup } from \"../lookup\";\r\n\r\nexport function apiTweetList(username, callback) {\r\n\tlet endpoint = \"/tweets/\";\r\n\tif (username) {\r\n\t\tendpoint = `/tweets/?username=${username}`;\r\n\t}\r\n\tbackendLookup(\"GET\", endpoint, callback);\r\n}\r\n\r\nexport function apiTweetDetail(tweetId, callback) {\r\n\tbackendLookup(\"GET\", `/tweets/${tweetId}`, callback);\r\n}\r\n\r\nexport function apiTweetCreate(newTweet, callback) {\r\n\tbackendLookup(\"POST\", \"/tweets/create/\", callback, { content: newTweet });\r\n}\r\n\r\nexport function apiTweetAction(tweetId, action, callback) {\r\n\tconst data = { id: tweetId, action: action };\r\n\tbackendLookup(\"POST\", \"/tweets/action/\", callback, data);\r\n}\r\n","import React from \"react\";\r\nimport { apiTweetAction } from \"./lookup\";\r\n\r\nexport function ActionBtn(props) {\r\n\tconst { tweet, action, didPerformAction } = props;\r\n\tconst likes = tweet.likes ? tweet.likes : 0;\r\n\tconst className = props.className ? props.className : \"btn btn-success btn-sm\";\r\n\tconst actionDisplay = action.display ? action.display : \"Action\";\r\n\r\n\tconst handleBackendEvent = (response, status) => {\r\n\t\tif ((status === 200 || status === 201) && didPerformAction) {\r\n\t\t\tdidPerformAction(response, status);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleClick = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tapiTweetAction(tweet.id, action.type, handleBackendEvent);\r\n\t};\r\n\tconst display = action.type === \"like\" ? `${likes} ${actionDisplay}` : actionDisplay;\r\n\r\n\treturn (\r\n\t\t<button className={className} onClick={handleClick}>\r\n\t\t\t{display}\r\n\t\t</button>\r\n\t);\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { ActionBtn } from \"./buttons\";\r\n\r\nexport function ParentTweet(props) {\r\n\tconst { tweet } = props;\r\n\r\n\treturn tweet.parent ? (\r\n\t\t<div className=\"row\">\r\n\t\t\t<div className=\"col-11 mx-auto p-3 border rounded\">\r\n\t\t\t\t<p className=\"mb-0 text-muted sm\">Retweet</p>\r\n\t\t\t\t<Tweet hideActions className={\" \"} tweet={tweet.parent} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t) : null;\r\n}\r\n\r\nexport function Tweet(props) {\r\n\tconst { tweet, didRetweet, hideActions } = props;\r\n\tconst className = props.className ? props.className : \"col-10 mx-auto col-md-6\";\r\n\tconst [actionTweet, setActionTweet] = useState(props.tweet ? props.tweet : null);\r\n\r\n\tconst path = window.location.pathname;\r\n\tconst match = path.match(/(?<tweetid>\\d+)/);\r\n\tconst urlTweetId = match ? match.groups.tweetid : -1;\r\n\tconst isDetail = `${tweet.id}` === `${urlTweetId}`;\r\n\r\n\tconst handlePerformAction = (newActionTweet, status) => {\r\n\t\tif (status === 200) {\r\n\t\t\tsetActionTweet(newActionTweet);\r\n\t\t} else if (status === 201) {\r\n\t\t\tif (didRetweet) {\r\n\t\t\t\tdidRetweet(newActionTweet);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleLink = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\twindow.location.href = `/${tweet.id}`;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={className}>\r\n\t\t\t<div>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t{tweet.id} - {tweet.content}\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<ParentTweet tweet={tweet} />\r\n\t\t\t<div className=\"btn btn-group\">\r\n\t\t\t\t{actionTweet && hideActions !== true && (\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<ActionBtn\r\n\t\t\t\t\t\t\ttweet={actionTweet}\r\n\t\t\t\t\t\t\tdidPerformAction={handlePerformAction}\r\n\t\t\t\t\t\t\taction={{ type: \"like\", display: \"Like\" }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ActionBtn\r\n\t\t\t\t\t\t\ttweet={actionTweet}\r\n\t\t\t\t\t\t\tdidPerformAction={handlePerformAction}\r\n\t\t\t\t\t\t\taction={{ type: \"unlike\", display: \"UnLike\" }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ActionBtn\r\n\t\t\t\t\t\t\ttweet={actionTweet}\r\n\t\t\t\t\t\t\tdidPerformAction={handlePerformAction}\r\n\t\t\t\t\t\t\taction={{ type: \"retweet\", display: \"Retweet\" }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t)}\r\n\t\t\t\t{isDetail === true ? null : (\r\n\t\t\t\t\t<button className=\"btn btn-outline-success btn-sm\" onClick={handleLink}>\r\n\t\t\t\t\t\tView\r\n\t\t\t\t\t</button>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { apiTweetList } from \"./lookup\";\r\nimport { Tweet } from \"./detail\";\r\n\r\nexport function TweetsList(props) {\r\n\tconst [tweetsInit, setTweetsInit] = useState([]);\r\n\tconst [tweets, setTweets] = useState([]);\r\n\tconst [tweetsDidSet, setTweetsDidSet] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst final = [...props.newTweets].concat(tweetsInit);\r\n\t\tif (final.length !== tweets.length) {\r\n\t\t\tsetTweets(final);\r\n\t\t}\r\n\t}, [props.newTweets, tweets, tweetsInit]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (tweetsDidSet === false) {\r\n\t\t\tconst handleTweetListLookup = (response, status) => {\r\n\t\t\t\tif (status === 200) {\r\n\t\t\t\t\tsetTweetsInit(response);\r\n\t\t\t\t\tsetTweetsDidSet(true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(\"There was an error\");\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tapiTweetList(props.username, handleTweetListLookup);\r\n\t\t}\r\n\t}, [tweetsInit, tweetsDidSet, setTweetsDidSet, props.username]);\r\n\r\n\tconst handleDidRetweet = (newTweet) => {\r\n\t\tconst updatedTweetsInit = [...tweetsInit];\r\n\t\tupdatedTweetsInit.unshift(newTweet);\r\n\t\tsetTweetsInit(updatedTweetsInit);\r\n\r\n\t\tconst updatedFinalTweets = [...tweets];\r\n\t\tupdatedFinalTweets.unshift(tweets);\r\n\t\tsetTweets(updatedFinalTweets);\r\n\t};\r\n\r\n\treturn tweets.map((item, index) => {\r\n\t\treturn (\r\n\t\t\t<Tweet\r\n\t\t\t\ttweet={item}\r\n\t\t\t\tdidRetweet={handleDidRetweet}\r\n\t\t\t\tkey={`${index}-item.id`}\r\n\t\t\t\tclassName=\"my-5 py-5 border bg-white text-dark\"\r\n\t\t\t/>\r\n\t\t);\r\n\t});\r\n}\r\n","import React from \"react\";\r\nimport { apiTweetCreate } from \"./lookup\";\r\n\r\nexport function TweetCreate(props) {\r\n\tconst textAreaRef = React.createRef();\r\n\tconst { didTweet } = props;\r\n\r\n\tconst handleBackendUpdate = (response, status) => {\r\n\t\tif (status === 201) {\r\n\t\t\tdidTweet(response);\r\n\t\t} else {\r\n\t\t\tconsole.log(response);\r\n\t\t\talert(\"an error occured, please try again\");\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst newVal = textAreaRef.current.value;\r\n\t\t// backend api request handler\r\n\t\tapiTweetCreate(newVal, handleBackendUpdate);\r\n\t\ttextAreaRef.current.value = \"\";\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={props.className}>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<textarea ref={textAreaRef} required={true} className=\"form-control\"></textarea>\r\n\t\t\t\t<button type=\"submit\" className=\"btn btn-success my-3\">\r\n\t\t\t\t\tTweet\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { TweetsList } from \"./list\";\r\nimport { TweetCreate } from \"./create\";\r\nimport { Tweet } from \"./detail\";\r\nimport { apiTweetDetail } from \"./lookup\";\r\n\r\nexport function TweetsComponent(props) {\r\n\tconst [newTweets, setNewTweets] = useState([]);\r\n\tconst canTweet = props.canTweet === \"false\" ? false : true;\r\n\r\n\tconst handleNewTweet = (newTweet) => {\r\n\t\tlet tempNewTweets = [...newTweets];\r\n\t\ttempNewTweets.unshift(newTweet);\r\n\t\tsetNewTweets(tempNewTweets);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={props.className}>\r\n\t\t\t{canTweet === true && <TweetCreate didTweet={handleNewTweet} className=\"col-12 mb-3\" />}\r\n\t\t\t<TweetsList newTweets={newTweets} {...props} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function TweetDetailComponent(props) {\r\n\tconst { tweetId } = props;\r\n\tconst [didLookup, setDidLookup] = useState(false);\r\n\tconst [tweet, setTweet] = useState(null);\r\n\r\n\tconst handleBackendLookup = (response, status) => {\r\n\t\tif (status === 200) {\r\n\t\t\tsetTweet(response);\r\n\t\t} else {\r\n\t\t\talert(\"There was an error finding your tweet\");\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (didLookup === false) {\r\n\t\t\tapiTweetDetail(tweetId, handleBackendLookup);\r\n\t\t\tsetDidLookup(true);\r\n\t\t}\r\n\t}, [tweetId, didLookup, setDidLookup]);\r\n\r\n\treturn tweet === null ? null : <Tweet tweet={tweet} className={props.className} />;\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from \"react\";\nimport { TweetsComponent } from \"./tweets\";\n\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\n\nfunction App() {\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<header className=\"App-header\">\n\t\t\t\t<img src={logo} className=\"App-logo\" alt=\"logo\" />\n\t\t\t\t<p>\n\t\t\t\t\tEdit <code>src/App.js</code> and save to reload.\n\t\t\t\t</p>\n\t\t\t\t<div>\n\t\t\t\t\t<TweetsComponent />\n\t\t\t\t</div>\n\t\t\t\t<a\n\t\t\t\t\tclassName=\"App-link\"\n\t\t\t\t\thref=\"https://reactjs.org\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t>\n\t\t\t\t\tLearn React\n\t\t\t\t</a>\n\t\t\t</header>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { TweetsComponent, TweetDetailComponent } from \"./tweets\";\n\nconst appEl = document.getElementById(\"root\");\nif (appEl) {\n\tReactDOM.render(\n\t\t<React.StrictMode>\n\t\t\t<App />\n\t\t</React.StrictMode>,\n\t\tappEl\n\t);\n}\n\nconst e = React.createElement;\n\nconst tweetsEl = document.getElementById(\"tweet_lite\");\nif (tweetsEl) {\n\tconsole.log(tweetsEl.dataset.username);\n\tReactDOM.render(e(TweetsComponent, tweetsEl.dataset), tweetsEl);\n}\n\nconst tweetDetailElements = document.querySelectorAll(\".tweet_lite-detail\");\n\ntweetDetailElements.forEach((container) => {\n\tReactDOM.render(e(TweetDetailComponent, container.dataset), container);\n});\n"]}}