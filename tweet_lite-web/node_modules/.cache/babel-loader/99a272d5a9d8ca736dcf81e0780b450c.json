{"ast":null,"code":"import _toConsumableArray from\"F:/Study/010 Programming learning/@React Js/TweetLite/tweet_lite-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"F:/Study/010 Programming learning/@React Js/TweetLite/tweet_lite-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{loadTweets}from\"../lookup\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function TweetsComponent(props){var textAreaRef=/*#__PURE__*/React.createRef();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),newTweets=_useState2[0],setNewTweets=_useState2[1];var handleSubmit=function handleSubmit(event){event.preventDefault();var newVal=textAreaRef.current.value;console.log(newVal);var tempNewTweets=_toConsumableArray(newTweets);tempNewTweets.unshift({content:newVal,likes:0,id:1234});setNewTweets(tempNewTweets);textAreaRef.current.value=\"\";};return/*#__PURE__*/_jsxs(\"div\",{className:props.className,children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 mb-3\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"textarea\",{ref:textAreaRef,required:true,className:\"form-control\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success my-3\",children:\"Tweet\"})]})}),/*#__PURE__*/_jsx(TweetsList,{newTweets:newTweets})]});}export function TweetsList(props){var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tweetsInit=_useState4[0],setTweetsInit=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),tweets=_useState6[0],setTweets=_useState6[1];useEffect(function(){var final=_toConsumableArray(props.newTweets).concat(tweetsInit);if(final.length!==tweets.length){setTweets(final);}},[props.newTweets,tweets,tweetsInit]);useEffect(function(){var myCallBack=function myCallBack(response,status){if(status===200){setTweetsInit(response);}else{alert(\"There was an error\");}};loadTweets(myCallBack);},[tweetsInit]);return tweets.map(function(item,index){return/*#__PURE__*/_jsx(Tweet,{tweet:item,className:\"my-5 py-5 border bg-white text-dark\"},\"\".concat(index,\"-item.id\"));});}export function ActionBtn(props){var tweet=props.tweet,action=props.action;var _useState7=useState(tweet.likes?tweet.likes:0),_useState8=_slicedToArray(_useState7,2),likes=_useState8[0],setLikes=_useState8[1];var _useState9=useState(tweet.userLike===true?true:false),_useState10=_slicedToArray(_useState9,2),userLike=_useState10[0],setUserLike=_useState10[1];var className=props.className?props.className:\"btn btn-success btn-sm\";var actionDisplay=action.display?action.display:\"Action\";var handleClick=function handleClick(event){event.preventDefault();if(action.type===\"like\"){if(userLike===true){setLikes(likes-1);setUserLike(false);}else{setLikes(likes+1);setUserLike(true);}}};var display=action.type===\"like\"?\"\".concat(likes,\" \").concat(actionDisplay):actionDisplay;return/*#__PURE__*/_jsx(\"button\",{className:className,onClick:handleClick,children:display});}export function Tweet(props){var tweet=props.tweet;var className=props.className?props.className:\"col-10 mx-auto col-md-6\";return/*#__PURE__*/_jsxs(\"div\",{className:className,children:[/*#__PURE__*/_jsxs(\"p\",{children:[tweet.id,\" - \",tweet.content]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn btn-group\",children:[/*#__PURE__*/_jsx(ActionBtn,{tweet:tweet,action:{type:\"like\",display:\"Like\"}}),/*#__PURE__*/_jsx(ActionBtn,{tweet:tweet,action:{type:\"unlike\",display:\"UnLike\"}}),/*#__PURE__*/_jsx(ActionBtn,{tweet:tweet,action:{type:\"retweet\",display:\"Retweet\"}})]})]});}","map":{"version":3,"sources":["F:/Study/010 Programming learning/@React Js/TweetLite/tweet_lite-web/src/tweets/components.js"],"names":["React","useState","useEffect","loadTweets","TweetsComponent","props","textAreaRef","createRef","newTweets","setNewTweets","handleSubmit","event","preventDefault","newVal","current","value","console","log","tempNewTweets","unshift","content","likes","id","className","TweetsList","tweetsInit","setTweetsInit","tweets","setTweets","final","concat","length","myCallBack","response","status","alert","map","item","index","ActionBtn","tweet","action","setLikes","userLike","setUserLike","actionDisplay","display","handleClick","type","Tweet"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { loadTweets } from \"../lookup\";\r\n\r\nexport function TweetsComponent(props) {\r\n\tconst textAreaRef = React.createRef();\r\n\tconst [newTweets, setNewTweets] = useState([]);\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst newVal = textAreaRef.current.value;\r\n\t\tconsole.log(newVal);\r\n\t\tlet tempNewTweets = [...newTweets];\r\n\t\ttempNewTweets.unshift({\r\n\t\t\tcontent: newVal,\r\n\t\t\tlikes: 0,\r\n\t\t\tid: 1234,\r\n\t\t});\r\n\t\tsetNewTweets(tempNewTweets);\r\n\t\ttextAreaRef.current.value = \"\";\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={props.className}>\r\n\t\t\t<div className=\"col-12 mb-3\">\r\n\t\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t\t<textarea ref={textAreaRef} required={true} className=\"form-control\"></textarea>\r\n\t\t\t\t\t<button type=\"submit\" className=\"btn btn-success my-3\">\r\n\t\t\t\t\t\tTweet\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t\t<TweetsList newTweets={newTweets} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function TweetsList(props) {\r\n\tconst [tweetsInit, setTweetsInit] = useState([]);\r\n\tconst [tweets, setTweets] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst final = [...props.newTweets].concat(tweetsInit);\r\n\t\tif (final.length !== tweets.length) {\r\n\t\t\tsetTweets(final);\r\n\t\t}\r\n\t}, [props.newTweets, tweets, tweetsInit]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst myCallBack = (response, status) => {\r\n\t\t\tif (status === 200) {\r\n\t\t\t\tsetTweetsInit(response);\r\n\t\t\t} else {\r\n\t\t\t\talert(\"There was an error\");\r\n\t\t\t}\r\n\t\t};\r\n\t\tloadTweets(myCallBack);\r\n\t}, [tweetsInit]);\r\n\r\n\treturn tweets.map((item, index) => {\r\n\t\treturn (\r\n\t\t\t<Tweet\r\n\t\t\t\ttweet={item}\r\n\t\t\t\tkey={`${index}-item.id`}\r\n\t\t\t\tclassName=\"my-5 py-5 border bg-white text-dark\"\r\n\t\t\t/>\r\n\t\t);\r\n\t});\r\n}\r\n\r\nexport function ActionBtn(props) {\r\n\tconst { tweet, action } = props;\r\n\tconst [likes, setLikes] = useState(tweet.likes ? tweet.likes : 0);\r\n\tconst [userLike, setUserLike] = useState(tweet.userLike === true ? true : false);\r\n\tconst className = props.className ? props.className : \"btn btn-success btn-sm\";\r\n\tconst actionDisplay = action.display ? action.display : \"Action\";\r\n\r\n\tconst handleClick = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tif (action.type === \"like\") {\r\n\t\t\tif (userLike === true) {\r\n\t\t\t\tsetLikes(likes - 1);\r\n\t\t\t\tsetUserLike(false);\r\n\t\t\t} else {\r\n\t\t\t\tsetLikes(likes + 1);\r\n\t\t\t\tsetUserLike(true);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tconst display = action.type === \"like\" ? `${likes} ${actionDisplay}` : actionDisplay;\r\n\r\n\treturn (\r\n\t\t<button className={className} onClick={handleClick}>\r\n\t\t\t{display}\r\n\t\t</button>\r\n\t);\r\n}\r\n\r\nexport function Tweet(props) {\r\n\tconst { tweet } = props;\r\n\tconst className = props.className ? props.className : \"col-10 mx-auto col-md-6\";\r\n\r\n\treturn (\r\n\t\t<div className={className}>\r\n\t\t\t<p>\r\n\t\t\t\t{tweet.id} - {tweet.content}\r\n\t\t\t</p>\r\n\t\t\t<div className=\"btn btn-group\">\r\n\t\t\t\t<ActionBtn tweet={tweet} action={{ type: \"like\", display: \"Like\" }} />\r\n\t\t\t\t<ActionBtn tweet={tweet} action={{ type: \"unlike\", display: \"UnLike\" }} />\r\n\t\t\t\t<ActionBtn tweet={tweet} action={{ type: \"retweet\", display: \"Retweet\" }} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}