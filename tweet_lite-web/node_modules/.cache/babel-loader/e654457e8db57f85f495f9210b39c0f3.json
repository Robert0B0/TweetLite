{"ast":null,"code":"import _wrapRegExp from\"F:/Study/010 Programming learning/@React Js/TweetLite/tweet_lite-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapRegExp\";import _slicedToArray from\"F:/Study/010 Programming learning/@React Js/TweetLite/tweet_lite-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{ActionBtn}from\"./buttons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function ParentTweet(props){var tweet=props.tweet;return tweet.parent?/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-11 mx-auto p-3 border rounded\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 text-muted sm\",children:\"Retweet\"}),/*#__PURE__*/_jsx(Tweet,{hideActions:true,className:\" \",tweet:tweet.parent})]})}):null;}export function Tweet(props){var tweet=props.tweet,didRetweet=props.didRetweet,hideActions=props.hideActions;var className=props.className?props.className:\"col-10 mx-auto col-md-6\";var _useState=useState(props.tweet?props.tweet:null),_useState2=_slicedToArray(_useState,2),actionTweet=_useState2[0],setActionTweet=_useState2[1];var path=window.location.pathname;var match=path.match(/*#__PURE__*/_wrapRegExp(/([0-9]+)/,{tweetid:1}));var urlTweetId=match?match.groups.tweetid:-1;var isDetail=\"\".concat(tweet.id)===\"\".concat(urlTweetId);var handlePerformAction=function handlePerformAction(newActionTweet,status){if(status===200){setActionTweet(newActionTweet);}else if(status===201){if(didRetweet){didRetweet(newActionTweet);}}};var handleLink=function handleLink(event){event.preventDefault();window.location.href=\"/\".concat(tweet.id);};return/*#__PURE__*/_jsxs(\"div\",{className:className,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[tweet.id,\" - \",tweet.content]})}),/*#__PURE__*/_jsx(ParentTweet,{tweet:tweet}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn btn-group\",children:[actionTweet&&hideActions!==true&&/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"like\",display:\"Like\"}}),/*#__PURE__*/_jsx(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"unlike\",display:\"UnLike\"}}),/*#__PURE__*/_jsx(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"retweet\",display:\"Retweet\"}})]}),isDetail===true?null:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-success btn-sm\",onClick:handleLink,children:\"View\"})]})]});}","map":{"version":3,"sources":["F:/Study/010 Programming learning/@React Js/TweetLite/tweet_lite-web/src/tweets/detail.js"],"names":["React","useState","ActionBtn","ParentTweet","props","tweet","parent","Tweet","didRetweet","hideActions","className","actionTweet","setActionTweet","path","window","location","pathname","match","urlTweetId","groups","tweetid","isDetail","id","handlePerformAction","newActionTweet","status","handleLink","event","preventDefault","href","content","type","display"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { ActionBtn } from \"./buttons\";\r\n\r\nexport function ParentTweet(props) {\r\n\tconst { tweet } = props;\r\n\r\n\treturn tweet.parent ? (\r\n\t\t<div className=\"row\">\r\n\t\t\t<div className=\"col-11 mx-auto p-3 border rounded\">\r\n\t\t\t\t<p className=\"mb-0 text-muted sm\">Retweet</p>\r\n\t\t\t\t<Tweet hideActions className={\" \"} tweet={tweet.parent} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t) : null;\r\n}\r\n\r\nexport function Tweet(props) {\r\n\tconst { tweet, didRetweet, hideActions } = props;\r\n\tconst className = props.className ? props.className : \"col-10 mx-auto col-md-6\";\r\n\tconst [actionTweet, setActionTweet] = useState(props.tweet ? props.tweet : null);\r\n\r\n\tconst path = window.location.pathname;\r\n\tconst match = path.match(/(?<tweetid>\\d+)/);\r\n\tconst urlTweetId = match ? match.groups.tweetid : -1;\r\n\tconst isDetail = `${tweet.id}` === `${urlTweetId}`;\r\n\r\n\tconst handlePerformAction = (newActionTweet, status) => {\r\n\t\tif (status === 200) {\r\n\t\t\tsetActionTweet(newActionTweet);\r\n\t\t} else if (status === 201) {\r\n\t\t\tif (didRetweet) {\r\n\t\t\t\tdidRetweet(newActionTweet);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleLink = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\twindow.location.href = `/${tweet.id}`;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={className}>\r\n\t\t\t<div>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t{tweet.id} - {tweet.content}\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<ParentTweet tweet={tweet} />\r\n\t\t\t<div className=\"btn btn-group\">\r\n\t\t\t\t{actionTweet && hideActions !== true && (\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<ActionBtn\r\n\t\t\t\t\t\t\ttweet={actionTweet}\r\n\t\t\t\t\t\t\tdidPerformAction={handlePerformAction}\r\n\t\t\t\t\t\t\taction={{ type: \"like\", display: \"Like\" }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ActionBtn\r\n\t\t\t\t\t\t\ttweet={actionTweet}\r\n\t\t\t\t\t\t\tdidPerformAction={handlePerformAction}\r\n\t\t\t\t\t\t\taction={{ type: \"unlike\", display: \"UnLike\" }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ActionBtn\r\n\t\t\t\t\t\t\ttweet={actionTweet}\r\n\t\t\t\t\t\t\tdidPerformAction={handlePerformAction}\r\n\t\t\t\t\t\t\taction={{ type: \"retweet\", display: \"Retweet\" }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t)}\r\n\t\t\t\t{isDetail === true ? null : (\r\n\t\t\t\t\t<button className=\"btn btn-outline-success btn-sm\" onClick={handleLink}>\r\n\t\t\t\t\t\tView\r\n\t\t\t\t\t</button>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}