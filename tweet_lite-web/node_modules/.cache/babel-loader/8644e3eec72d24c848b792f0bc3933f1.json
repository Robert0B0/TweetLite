{"ast":null,"code":"import _toConsumableArray from\"F:/Study/010 Programming learning/@React Js/TweetLite/tweet_lite-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"F:/Study/010 Programming learning/@React Js/TweetLite/tweet_lite-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{apiTweetList}from\"./lookup\";import{Tweet}from\"./detail\";import{jsx as _jsx}from\"react/jsx-runtime\";export function TweetsList(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tweetsInit=_useState2[0],setTweetsInit=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tweets=_useState4[0],setTweets=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),tweetsDidSet=_useState6[0],setTweetsDidSet=_useState6[1];useEffect(function(){var final=_toConsumableArray(props.newTweets).concat(tweetsInit);if(final.length!==tweets.length){setTweets(final);}},[props.newTweets,tweets,tweetsInit]);useEffect(function(){if(tweetsDidSet===false){var handleTweetListLookup=function handleTweetListLookup(response,status){if(status===200){setTweetsInit(response);setTweetsDidSet(true);}else{alert(\"There was an error\");}};apiTweetList(props.username,handleTweetListLookup);}},[tweetsInit,tweetsDidSet,setTweetsDidSet,props.username]);var handleDidRetweet=function handleDidRetweet(newTweet){var updatedTweetsInit=_toConsumableArray(tweetsInit);updatedTweetsInit.unshift(newTweet);setTweetsInit(updatedTweetsInit);var updatedFinalTweets=_toConsumableArray(tweets);updatedFinalTweets.unshift(tweets);setTweets(updatedFinalTweets);};return tweets.map(function(item,index){return/*#__PURE__*/_jsx(Tweet,{tweet:item,didRetweet:handleDidRetweet,className:\"my-5 py-5 border bg-white text-dark\"},\"\".concat(index,\"-item.id\"));});}","map":{"version":3,"sources":["F:/Study/010 Programming learning/@React Js/TweetLite/tweet_lite-web/src/tweets/list.js"],"names":["React","useState","useEffect","apiTweetList","Tweet","TweetsList","props","tweetsInit","setTweetsInit","tweets","setTweets","tweetsDidSet","setTweetsDidSet","final","newTweets","concat","length","handleTweetListLookup","response","status","alert","username","handleDidRetweet","newTweet","updatedTweetsInit","unshift","updatedFinalTweets","map","item","index"],"mappings":"8XAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,YAAT,KAA6B,UAA7B,CACA,OAASC,KAAT,KAAsB,UAAtB,C,2CAEA,MAAO,SAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,eACGL,QAAQ,CAAC,EAAD,CADX,wCAC1BM,UAD0B,eACdC,aADc,8BAELP,QAAQ,CAAC,EAAD,CAFH,yCAE1BQ,MAF0B,eAElBC,SAFkB,8BAGOT,QAAQ,CAAC,KAAD,CAHf,yCAG1BU,YAH0B,eAGZC,eAHY,eAKjCV,SAAS,CAAC,UAAM,CACf,GAAMW,CAAAA,KAAK,CAAG,mBAAIP,KAAK,CAACQ,SAAV,EAAqBC,MAArB,CAA4BR,UAA5B,CAAd,CACA,GAAIM,KAAK,CAACG,MAAN,GAAiBP,MAAM,CAACO,MAA5B,CAAoC,CACnCN,SAAS,CAACG,KAAD,CAAT,CACA,CACD,CALQ,CAKN,CAACP,KAAK,CAACQ,SAAP,CAAkBL,MAAlB,CAA0BF,UAA1B,CALM,CAAT,CAOAL,SAAS,CAAC,UAAM,CACf,GAAIS,YAAY,GAAK,KAArB,CAA4B,CAC3B,GAAMM,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACC,QAAD,CAAWC,MAAX,CAAsB,CACnD,GAAIA,MAAM,GAAK,GAAf,CAAoB,CACnBX,aAAa,CAACU,QAAD,CAAb,CACAN,eAAe,CAAC,IAAD,CAAf,CACA,CAHD,IAGO,CACNQ,KAAK,CAAC,oBAAD,CAAL,CACA,CACD,CAPD,CAQAjB,YAAY,CAACG,KAAK,CAACe,QAAP,CAAiBJ,qBAAjB,CAAZ,CACA,CACD,CAZQ,CAYN,CAACV,UAAD,CAAaI,YAAb,CAA2BC,eAA3B,CAA4CN,KAAK,CAACe,QAAlD,CAZM,CAAT,CAcA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,QAAD,CAAc,CACtC,GAAMC,CAAAA,iBAAiB,oBAAOjB,UAAP,CAAvB,CACAiB,iBAAiB,CAACC,OAAlB,CAA0BF,QAA1B,EACAf,aAAa,CAACgB,iBAAD,CAAb,CAEA,GAAME,CAAAA,kBAAkB,oBAAOjB,MAAP,CAAxB,CACAiB,kBAAkB,CAACD,OAAnB,CAA2BhB,MAA3B,EACAC,SAAS,CAACgB,kBAAD,CAAT,CACA,CARD,CAUA,MAAOjB,CAAAA,MAAM,CAACkB,GAAP,CAAW,SAACC,IAAD,CAAOC,KAAP,CAAiB,CAClC,mBACC,KAAC,KAAD,EACC,KAAK,CAAED,IADR,CAEC,UAAU,CAAEN,gBAFb,CAIC,SAAS,CAAC,qCAJX,YAGSO,KAHT,aADD,CAQA,CATM,CAAP,CAUA","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { apiTweetList } from \"./lookup\";\r\nimport { Tweet } from \"./detail\";\r\n\r\nexport function TweetsList(props) {\r\n\tconst [tweetsInit, setTweetsInit] = useState([]);\r\n\tconst [tweets, setTweets] = useState([]);\r\n\tconst [tweetsDidSet, setTweetsDidSet] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst final = [...props.newTweets].concat(tweetsInit);\r\n\t\tif (final.length !== tweets.length) {\r\n\t\t\tsetTweets(final);\r\n\t\t}\r\n\t}, [props.newTweets, tweets, tweetsInit]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (tweetsDidSet === false) {\r\n\t\t\tconst handleTweetListLookup = (response, status) => {\r\n\t\t\t\tif (status === 200) {\r\n\t\t\t\t\tsetTweetsInit(response);\r\n\t\t\t\t\tsetTweetsDidSet(true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(\"There was an error\");\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tapiTweetList(props.username, handleTweetListLookup);\r\n\t\t}\r\n\t}, [tweetsInit, tweetsDidSet, setTweetsDidSet, props.username]);\r\n\r\n\tconst handleDidRetweet = (newTweet) => {\r\n\t\tconst updatedTweetsInit = [...tweetsInit];\r\n\t\tupdatedTweetsInit.unshift(newTweet);\r\n\t\tsetTweetsInit(updatedTweetsInit);\r\n\r\n\t\tconst updatedFinalTweets = [...tweets];\r\n\t\tupdatedFinalTweets.unshift(tweets);\r\n\t\tsetTweets(updatedFinalTweets);\r\n\t};\r\n\r\n\treturn tweets.map((item, index) => {\r\n\t\treturn (\r\n\t\t\t<Tweet\r\n\t\t\t\ttweet={item}\r\n\t\t\t\tdidRetweet={handleDidRetweet}\r\n\t\t\t\tkey={`${index}-item.id`}\r\n\t\t\t\tclassName=\"my-5 py-5 border bg-white text-dark\"\r\n\t\t\t/>\r\n\t\t);\r\n\t});\r\n}\r\n"]},"metadata":{},"sourceType":"module"}